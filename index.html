<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CitizenHelpDesk ‚Äì Government Rules Explained</title>
  <link rel="stylesheet" href="style.css?v=3">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- NAVBAR + SEARCH STYLES -->
  <style>
    .navbar {
      background: #020617;
      border-bottom: 1px solid rgba(148, 163, 184, 0.35);
      padding: 0.75rem 0;
    }

    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.5rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
    }

    .brand-logo {
      width: 44px;
      height: 44px;
      border-radius: 18px;
      object-fit: cover;
      box-shadow: 0 8px 20px rgba(15, 23, 42, 0.4);
    }

    .brand-text {
      display: flex;
      flex-direction: column;
      line-height: 1.1;
    }

    .brand-title {
      font-size: 1.05rem;
      font-weight: 800;
      color: #e5f0ff;
    }

    .brand-subtitle {
      font-size: 0.75rem;
      font-weight: 500;
      color: #818cf8;
    }

    /* TOP NAV LINKS ‚Äì desktop */
    .nav-links {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-left: 2rem;
      padding: 0;
      background: transparent;
      position: static;
      box-shadow: none;
    }

    .nav-link {
      color: #e2e8f0;
      padding: 0.45rem 0.9rem;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
      border-radius: 999px;
    }

    .nav-link:hover {
      background: rgba(148, 163, 184, 0.18);
    }

    .nav-link.active {
      color: #38bdf8;
      background: rgba(56, 189, 248, 0.15);
    }

    /* SEARCH BAR */
    .nav-search {
      margin-left: auto;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nav-search-input {
      width: 220px;
      padding: 0.45rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.9);
      background: #020617;
      color: #e5e7eb;
      font-size: 0.9rem;
      outline: none;
    }

    .nav-search-input::placeholder {
      color: #9ca3af;
      letter-spacing: 0.06em;
      text-transform: uppercase;
      font-size: 0.75rem;
    }

    .nav-search-btn {
      padding: 0.45rem 1.1rem;
      border-radius: 999px;
      border: none;
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      background: #22c55e;
      color: #0b1120;
      cursor: pointer;
      box-shadow: 0 6px 16px rgba(34, 197, 94, 0.45);
    }

    .nav-search-btn:hover {
      transform: translateY(-1px);
    }

    /* SIMPLE MOBILE ADJUSTMENTS (no dropdown) */
    @media (max-width: 768px) {
      .nav-container {
        flex-wrap: wrap;
        align-items: flex-start;
      }

      .nav-links {
        flex-wrap: wrap;
        margin-left: 0;
        margin-top: 0.5rem;
      }

        .nav-search {
    width: 100%;
    margin-left: 0;
    margin-top: 0.5rem;
    justify-content: flex-start;
    display: flex;       /* make sure flex is active on mobile */
    align-items: center;
    gap: 0.5rem;
    flex-wrap: nowrap;   /* keep input + button on one line */
  }
  
    }

    /* HIDE TOP MENU ON HOME PAGE */
    .home-page .nav-links {
      display: none;
    }

    /* Floating chatbot button */
    .chatbot-fab {
      position: fixed;
      right: 20px;
      bottom: 20px;
      width: 54px;
      height: 54px;
      border-radius: 999px;
      border: none;
      background: #22c55e;
      color: #0b1120;
      font-size: 1.6rem;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 12px 30px rgba(15, 23, 42, 0.5);
      cursor: pointer;
      z-index: 9999;
    }

    /* Chat window */
    .chatbot-window {
      position: fixed;
      right: 20px;
      bottom: 90px;
      width: 320px;
      max-height: 420px;
      background: #020617;
      border-radius: 18px;
      box-shadow: 0 18px 45px rgba(15, 23, 42, 0.85);
      border: 1px solid rgba(148, 163, 184, 0.4);
      display: none; /* hidden by default */
      overflow: hidden;
      z-index: 9999;
      font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    .chatbot-header {
      padding: 0.75rem 0.9rem;
      background: linear-gradient(135deg, #0f172a, #1d283a);
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .chatbot-header-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .chatbot-header-subtitle {
      font-size: 0.7rem;
      color: #9ca3af;
    }

    .chatbot-close {
      background: transparent;
      border: none;
      color: #9ca3af;
      font-size: 1.1rem;
      cursor: pointer;
    }

    .chatbot-messages {
      padding: 0.75rem;
      max-height: 260px;
      overflow-y: auto;
      background: #020617;
    }

    .chatbot-bubble {
      padding: 0.45rem 0.7rem;
      border-radius: 11px;
      font-size: 0.8rem;
      margin-bottom: 0.35rem;
      line-height: 1.35;
    }

    .chatbot-bubble.bot {
      background: #0f172a;
      color: #e5e7eb;
    }

    .chatbot-bubble.user {
      background: #2563eb;
      color: #eff6ff;
      text-align: right;
    }

    .chatbot-footer {
      border-top: 1px solid rgba(51, 65, 85, 0.8);
      padding: 0.55rem;
      display: flex;
      gap: 0.4rem;
      background: #020617;
    }

    .chatbot-input {
      flex: 1;
      font-size: 0.8rem;
      padding: 0.35rem 0.6rem;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: #020617;
      color: #e5e7eb;
    }

    .chatbot-send {
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      border: none;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      background: #2563eb;
      color: #eff6ff;
      cursor: pointer;
    }

    @media (max-width: 480px) {
      .chatbot-window {
        width: calc(100% - 32px);
        right: 16px;
        bottom: 80px;
      }
    }

  </style>
</head>

<body class="home-page" id="top">

  <!-- NAVBAR -->
  <nav class="navbar" aria-label="Main navigation">
    <div class="container nav-container">

      <!-- LOGO -->
      <a href="index.html" class="brand">
        <img src="logo.png" alt="Citizen HelpDesk Logo" class="brand-logo">
        <div class="brand-text">
          <span class="brand-title">Citizen HelpDesk</span>
          <span class="brand-subtitle">Government rules in simple words</span>
        </div>
      </a>

      <!-- Nav links (hidden on home page by CSS above) -->
      <div class="nav-links" id="primary-navigation">
        <a href="index.html" class="nav-link active">Home</a>
        <a href="traffic.html" class="nav-link">Traffic Rules</a>
        <a href="documents.html" class="nav-link">Documents</a>
        <a href="police.html" class="nav-link">Police Help</a>
        <a href="schemes.html" class="nav-link">Schemes</a>
      </div>

      <!-- Search bar -->
      <form class="nav-search" id="siteSearchForm">
        <input
          type="search"
          id="siteSearchInput"
          class="nav-search-input"
          placeholder="SEARCH"
          aria-label="Search CitizenHelpDesk"
          required
        >
        <button type="submit" class="nav-search-btn">Search</button>
      </form>

    </div>
  </nav>

  <main>
    <!-- HERO -->
    <section class="home-hero" id="hero">
      <div class="container hero-layout">

        <!-- LEFT: main text -->
        <div class="hero-content">

          <p style="font-size: 0.85rem; letter-spacing: 0.08em; text-transform: uppercase; color:#2563eb; margin:0 0 0.5rem;">
            For Indian citizens ¬∑ Simple language
          </p>

          <h1 style="margin:0 0 0.75rem; font-size: 2rem; line-height:1.25;">
            Government rules, explained in normal language.
          </h1>

          <p style="margin:0 0 1.25rem; color:#475569; font-size:0.95rem;">
            No legal jargon, no confusion. Clear guides for traffic rules, important documents,
            police processes and government schemes.
          </p>

          <div style="display:flex; flex-wrap:wrap; gap:0.75rem; margin-bottom:1.25rem;">
            <a href="traffic.html"
               style="background:#2563eb; color:white; padding:0.6rem 1.2rem; border-radius:999px;
                      font-weight:600; text-decoration:none; font-size:0.95rem;">
              Start with Traffic Rules
            </a>

            <a href="documents.html"
               style="border:1px solid #cbd5f5; color:#2563eb; padding:0.6rem 1.2rem; border-radius:999px;
                      font-weight:600; text-decoration:none; font-size:0.95rem; background:white;">
              Fix my documents
            </a>
          </div>

          <p style="font-size:0.85rem; color:#64748b; max-width:40rem;">
            ‚úÖ <strong>Important:</strong> We are <u>not</u> an official govt website.
            We only explain rules in simple language for students, parents and everyday citizens.
          </p>

        </div>

        <!-- RIGHT: image + quick check -->
        <div class="hero-side">
          <div class="hero-image-wrapper">
            <img src="hero-image.png" alt="CitizenHelpDesk ‚Äì Government rules illustration" class="hero-main-image">
          </div>

          <aside class="hero-card" aria-label="Today's quick checklist">
            <p class="hero-card-label">TODAY‚ÄôS QUICK CHECK</p>
            <ul>
              <li>Do you carry DL, RC, Insurance &amp; PUC while driving?</li>
              <li>Do you know if DigiLocker is accepted by police?</li>
              <li>Do you know how to pay challan online safely?</li>
            </ul>
            <a href="traffic.html" class="btn-link">Open Traffic Rules guide ‚Üí</a>
          </aside>
        </div>

      </div>
    </section>

    <!-- WHAT DO YOU WANT HELP WITH -->
    <section id="topics" style="padding: 2rem 0;">
      <div class="container">

        <!-- Heading -->
        <div style="margin-bottom: 1.5rem;">
          <p style="font-size: 0.8rem; letter-spacing: 0.12em; text-transform: uppercase; color:#2563eb; margin:0 0 0.4rem;">
            Start here
          </p>
          <h2 style="margin:0 0 0.4rem; font-size: 1.4rem;">
            What do you want help with?
          </h2>
          <p style="margin:0; font-size:0.95rem; color:#64748b;">
            Pick a topic to see clear guides in simple language.
          </p>
        </div>

        <!-- Topic cards -->
        <div style="
          display:grid;
          gap:1rem;
          grid-template-columns:repeat(auto-fit, minmax(220px, 1fr));
        ">

          <!-- Traffic rules card -->
          <a href="traffic.html" style="text-decoration:none; color:inherit;">
            <div style="
              background:#ffffff;
              border:1px solid #e2e8f0;
              border-radius:0.9rem;
              padding:1rem;
              box-shadow:0 6px 16px rgba(15,23,42,0.04);
            ">
              <div style="font-size:1.4rem; margin-bottom:0.4rem;">üö¶</div>
              <h3 style="margin:0 0 0.3rem; font-size:1rem;">
                Traffic rules &amp; challans
              </h3>
              <p style="margin:0 0 0.4rem; font-size:0.9rem; color:#64748b;">
                Helmet rules, challans, documents and what to do if police stop you.
              </p>
              <p style="margin:0; font-size:0.82rem; color:#2563eb;">
                Open traffic guides ‚Üí
              </p>
            </div>
          </a>

          <!-- Documents card -->
          <a href="documents.html" style="text-decoration:none; color:inherit;">
            <div style="
              background:#ffffff;
              border:1px solid #e2e8f0;
              border-radius:0.9rem;
              padding:1rem;
              box-shadow:0 6px 16px rgba(15,23,42,0.04);
            ">
              <div style="font-size:1.4rem; margin-bottom:0.4rem;">ü™™</div>
              <h3 style="margin:0 0 0.3rem; font-size:1rem;">
                Documents &amp; ID
              </h3>
              <p style="margin:0 0 0.4rem; font-size:0.9rem; color:#64748b;">
                Aadhaar, PAN, licence, RC ‚Äì how to apply, update or fix mistakes.
              </p>
              <p style="margin:0; font-size:0.82rem; color:#2563eb;">
                See document help ‚Üí
              </p>
            </div>
          </a>

          <!-- Police help card -->
          <a href="police.html" style="text-decoration:none; color:inherit;">
            <div style="
              background:#ffffff;
              border:1px solid #e2e8f0;
              border-radius:0.9rem;
              padding:1rem;
              box-shadow:0 6px 16px rgba(15,23,42,0.04);
            ">
              <div style="font-size:1.4rem; margin-bottom:0.4rem;">üëÆ‚Äç‚ôÇÔ∏è</div>
              <h3 style="margin:0 0 0.3rem; font-size:1rem;">
                Police help &amp; complaints
              </h3>
              <p style="margin:0 0 0.4rem; font-size:0.9rem; color:#64748b;">
                FIR basics, complaints, NC and what to expect at the police station.
              </p>
              <p style="margin:0; font-size:0.82rem; color:#2563eb;">
                Learn police process ‚Üí
              </p>
            </div>
          </a>

          <!-- Schemes card -->
          <a href="schemes.html" style="text-decoration:none; color:inherit;">
            <div style="
              background:#ffffff;
              border:1px solid #e2e8f0;
              border-radius:0.9rem;
              padding:1rem;
              box-shadow:0 6px 16px rgba(15,23,42,0.04);
            ">
              <div style="font-size:1.4rem; margin-bottom:0.4rem;">üèõÔ∏è</div>
              <h3 style="margin:0 0 0.3rem; font-size:1rem;">
                Govt schemes &amp; benefits
              </h3>
              <p style="margin:0 0 0.4rem; font-size:0.9rem; color:#64748b;">
                Popular schemes explained in short ‚Äì who can apply and how.
              </p>
              <p style="margin:0; font-size:0.82rem; color:#2563eb;">
                Explore schemes overview ‚Üí
              </p>
            </div>
          </a>

        </div>
      </div>
    </section>

    <!-- LATEST GUIDES -->
    <section class="section section-alt" id="guides">
      <div class="container">
        <header class="section-header">
          <p class="section-tag">Latest guides</p>
          <h2>Most useful right now</h2>
          <p>Quick reads for problems citizens face every day.</p>
        </header>

        <div class="grid grid-3 blog-grid">
          <article class="card blog-card">
            <p class="blog-tag">Traffic Rules</p>
            <h3><a href="blog-traffic-challan.html">How to Pay Traffic Challan Online ‚Äì Full Guide (2025)</a></h3>
            <p>Pay your challan safely from home, step by step. No agents, no confusion.</p>
            <a href="blog-traffic-challan.html" class="btn-link">Read guide ‚Üí</a>
          </article>

          <article class="card blog-card">
            <p class="blog-tag">Police Help</p>
            <h3><a href="blog-fir-vs-nc.html">FIR vs Complaint vs NC ‚Äì What‚Äôs the Difference?</a></h3>
            <p>Understand the basic terms so your complaint gets registered correctly.</p>
            <a href="blog-fir-vs-nc.html" class="btn-link">Read guide ‚Üí</a>
          </article>

          <article class="card blog-card">
            <p class="blog-tag">Documents &amp; ID</p>
            <h3><a href="blog-aadhaar-address.html">Aadhaar Address Change ‚Äì Step-by-Step (2025)</a></h3>
            <p>Moved to a new house? Update your Aadhaar address online in a few simple steps.</p>
            <a href="blog-aadhaar-address.html" class="btn-link">Read guide ‚Üí</a>
          </article>

          <article class="card blog-card">
            <p class="blog-tag">Traffic Rules</p>
            <h3><a href="blog-helmet.html">Helmet Rule in India ‚Äì Updated Penalties (2025)</a></h3>
            <p>Helmet rules for rider and pillion, latest fines and common myths.</p>
            <a href="blog-helmet.html" class="btn-link">Read guide ‚Üí</a>
          </article>

          <article class="card blog-card">
            <p class="blog-tag">Documents &amp; ID</p>
            <h3><a href="blog-pan-lost.html">Lost Your PAN Card? Here‚Äôs Exactly What to Do</a></h3>
            <p>Don‚Äôt panic. Follow these steps to get a reprint and keep your PAN details safe.</p>
            <a href="blog-pan-lost.html" class="btn-link">Read guide ‚Üí</a>
          </article>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="section section-cta" id="updates">
      <div class="container cta-box">
        <div>
          <h2>Get updates when important rules change</h2>
          <p>We are building simple guides for new traffic rules, schemes and digital services. Soon you‚Äôll be able to receive major updates in your inbox.</p>
        </div>
        <div>
          <button class="btn-primary btn-primary-outline" disabled>Newsletter coming soon</button>
          <p class="cta-note">No spam, only important rule changes that impact daily life.</p>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="section footer-section" style="border-top:1px solid #e2e8f0; padding-top:1.5rem;">
    <div class="container">
      <div class="grid grid-3 footer-content">
        <div class="footer-section">
          <a href="index.html" class="logo" style="margin-bottom: 1rem; display: inline-block;">
            Citizen<span>HelpDesk</span>
          </a>
          <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
            Simplifying government rules and procedures for every Indian citizen ‚Äì in easy language.
          </p>
        </div>
        <div class="footer-section">
          <h4>Quick Links</h4>
          <ul class="footer-links">
            <li><a href="traffic.html">Traffic Rules</a></li>
            <li><a href="documents.html">Documents &amp; ID</a></li>
            <li><a href="police.html">Police Help</a></li>
            <li><a href="schemes.html">Government Schemes</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Disclaimer</h4>
          <p style="color: var(--text-muted);">
            CitizenHelpDesk is not an official government website. We summarise public information; always confirm details on official portals.
          </p>
        </div>
      </div>
      <div class="copyright" style="text-align:center; margin-top:1.25rem; font-size:0.85rem; color:#64748b;">
        <p>&copy; 2025 CitizenHelpDesk. Information for general guidance only, not legal advice.</p>
      </div>
    </div>
  </footer>

  <!-- Floating Chatbot -->
  <div class="chatbot-window" id="chatbotWindow">
    <div class="chatbot-header">
      <div>
        <div class="chatbot-header-title">Citizen Assistant</div>
        <div class="chatbot-header-subtitle">Ask about traffic, documents, police, schemes</div>
      </div>
      <button class="chatbot-close" id="chatbotClose" aria-label="Close chat">√ó</button>
    </div>

    <div class="chatbot-messages" id="chatbotMessages">
      <div class="chatbot-bubble bot">
        üëã Hi! I can guide you.<br>
        Try asking things like:<br>
        ‚Ä¢ "Traffic challan rules"<br>
        ‚Ä¢ "Aadhaar address change"<br>
        ‚Ä¢ "Police complaint"<br>
        ‚Ä¢ "Govt schemes for students"
      </div>
    </div>

    <form class="chatbot-footer" id="chatbotForm">
      <input type="text" id="chatbotInput" class="chatbot-input" placeholder="Type your question..." autocomplete="off">
      <button type="submit" class="chatbot-send">Send</button>
    </form>
  </div>

  <button class="chatbot-fab" id="chatbotFab" aria-label="Open chat">
    üí¨
  </button>

  <!-- Back to top button -->
  <button id="backToTop" aria-label="Back to top">
    ‚Üë Back to top
  </button>

  <!-- Cursor dot (desktop) -->
  <div class="cursor-dot"></div>

  <!-- All scripts -->
  <script>
    // Force scroll to top every time this page is shown (including back button)
    window.addEventListener('pageshow', function () {
      window.scrollTo(0, 0);
      setTimeout(function () { window.scrollTo(0, 0); }, 50);
      setTimeout(function () { window.scrollTo(0, 0); }, 150);
    });

    document.addEventListener('DOMContentLoaded', function () {
      // Always start at top on first load
      window.scrollTo(0, 0);

      // Prevent browser auto scroll restoration
      if ('scrollRestoration' in history) {
        history.scrollRestoration = 'manual';
      }

      /* ---------- INSTANT + GOOGLE SEARCH ---------- */
      var searchForm = document.getElementById('siteSearchForm');
      var searchInput = document.getElementById('siteSearchInput');

      if (searchForm && searchInput) {
        searchForm.addEventListener('submit', function (e) {
          e.preventDefault();
          var q = searchInput.value.trim();
          if (!q) return;

          var normalized = q.toLowerCase();

          // Instant search routing
          if (
            normalized.includes('traffic') ||
            normalized.includes('challan') ||
            normalized.includes('helmet')
          ) {
            window.location.href = 'traffic.html';
            return;
          }

          if (
            normalized.includes('document') ||
            normalized.includes('documents') ||
            normalized.includes('aadhaar') ||
            normalized.includes('aadhar') ||
            normalized.includes('pan') ||
            normalized.includes('licence') ||
            normalized.includes('license') ||
            normalized.includes('id')
          ) {
            window.location.href = 'documents.html';
            return;
          }

          if (
            normalized.includes('police') ||
            normalized.includes('fir') ||
            normalized.includes('complaint') ||
            normalized.includes('nc')
          ) {
            window.location.href = 'police.html';
            return;
          }

          if (
            normalized.includes('scheme') ||
            normalized.includes('schemes') ||
            normalized.includes('yojana') ||
            normalized.includes('pension') ||
            normalized.includes('scholarship')
          ) {
            window.location.href = 'schemes.html';
            return;
          }

          // Fallback ‚Äì Google site search
          var siteDomain = window.location.hostname;
          var url = 'https://www.google.com/search?q=' +
                    encodeURIComponent('site:' + siteDomain + ' ' + q);

          window.open(url, '_blank');
        });
      }

      // Back to top button
      var backToTopBtn = document.getElementById('backToTop');

      if (backToTopBtn) {
        window.addEventListener('scroll', function () {
          if (window.pageYOffset > 300) {
            backToTopBtn.classList.add('show');
          } else {
            backToTopBtn.classList.remove('show');
          }
        });

        backToTopBtn.addEventListener('click', function () {
          window.scrollTo({
            top: 0,
            behavior: 'smooth'
          });
        });
      }

      // Smooth scroll for internal links (like #hero, #topics, etc.)
      var internalLinks = document.querySelectorAll('a[href^="#"]');
      internalLinks.forEach(function (link) {
        link.addEventListener('click', function (event) {
          var targetId = this.getAttribute('href').substring(1);
          var target = document.getElementById(targetId);

          if (target) {
            event.preventDefault();
            target.scrollIntoView({ behavior: 'smooth' });
          }
        });
      });

      // Cursor dot animation (desktop)
      var cursorDot = document.querySelector('.cursor-dot');

      if (cursorDot) {
        document.addEventListener('mousemove', function (e) {
          cursorDot.style.opacity = '1';
          cursorDot.style.transform =
            'translate3d(' + e.clientX + 'px,' + e.clientY + 'px,0)';
        });

        document.addEventListener('mouseleave', function () {
          cursorDot.style.opacity = '0';
        });
      }

      /* ---------- FLOATING CHATBOT (AI-STYLE FAQ) ---------- */
      var chatbotWindow = document.getElementById('chatbotWindow');
      var chatbotFab = document.getElementById('chatbotFab');
      var chatbotClose = document.getElementById('chatbotClose');
      var chatbotForm = document.getElementById('chatbotForm');
      var chatbotInput = document.getElementById('chatbotInput');
      var chatbotMessages = document.getElementById('chatbotMessages');

      function toggleChatbot(open) {
        if (!chatbotWindow) return;
        chatbotWindow.style.display = open ? 'block' : 'none';
      }

      if (chatbotFab) {
        chatbotFab.addEventListener('click', function () {
          toggleChatbot(true);
          if (chatbotInput) chatbotInput.focus();
        });
      }

      if (chatbotClose) {
        chatbotClose.addEventListener('click', function () {
          toggleChatbot(false);
        });
      }

      function addMessage(text, who) {
        if (!chatbotMessages) return;
        var bubble = document.createElement('div');
        bubble.className = 'chatbot-bubble ' + (who === 'user' ? 'user' : 'bot');
        bubble.innerHTML = text;
        chatbotMessages.appendChild(bubble);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
      }

      // Simple FAQ "AI" ‚Äì answers based on keywords
      function getBotReply(text) {
        var t = text.toLowerCase();

        // Aadhaar
        if (t.includes('aadhaar') || t.includes('aadhar')) {
          return "ü™™ <strong>Aadhaar basics (summary):</strong><br><br>" +
                 "‚Ä¢ Aadhaar is a 12-digit ID issued by UIDAI.<br>" +
                 "‚Ä¢ You can update address, phone etc. online using the UIDAI portal.<br>" +
                 "‚Ä¢ Never share your Aadhaar OTP with anyone.<br><br>" +
                 "For full steps, see the Aadhaar guide in the Documents section of this website.";
        }

        // PAN
        if (t.includes('pan')) {
          return "üßæ <strong>PAN card info:</strong><br><br>" +
                 "‚Ä¢ PAN is needed for bank accounts, salary, tax and many financial tasks.<br>" +
                 "‚Ä¢ If you lose your PAN, you can apply online for a reprint with the same number.<br>" +
                 "‚Ä¢ Keep your PAN details safe and don‚Äôt share with unknown people.<br><br>" +
                 "You‚Äôll find detailed PAN help in the Documents section on this site.";
        }

        // Traffic rules / challan / helmet
        if (t.includes('traffic') || t.includes('challan') || t.includes('helmet')) {
          return "üö¶ <strong>Traffic rules highlights:</strong><br><br>" +
                 "‚Ä¢ Always wear a proper helmet; pillion rider should also wear one.<br>" +
                 "‚Ä¢ Carry DL, RC, Insurance and PUC ‚Äì physical or in DigiLocker/mParivahan (if accepted in your state).<br>" +
                 "‚Ä¢ Pay challans only on official government portals, avoid agents and fake links.<br><br>" +
                 "More details are available in the Traffic Rules section of this website.";
        }

        // Police help / FIR
        if (t.includes('police') || t.includes('fir') || t.includes('complaint') || t.includes('nc')) {
          return "üëÆ <strong>Police help basics:</strong><br><br>" +
                 "‚Ä¢ FIR is for serious cognizable offences (like theft, assault etc.).<br>" +
                 "‚Ä¢ Non-cognizable issues may be recorded as a complaint/NC.<br>" +
                 "‚Ä¢ You can ask for a free copy of the FIR after it is registered.<br><br>" +
                 "Your Police Help page on this site explains this in simple language.";
        }

        // Schemes / yojana / benefits
        if (t.includes('scheme') || t.includes('schemes') ||
            t.includes('yojana') || t.includes('pension') || t.includes('scholarship')) {
          return "üèõÔ∏è <strong>Government schemes overview:</strong><br><br>" +
                 "‚Ä¢ Many schemes exist for students, farmers, senior citizens and low-income families.<br>" +
                 "‚Ä¢ Always read eligibility, required documents and the official website carefully.<br>" +
                 "‚Ä¢ Avoid paying agents who promise quick scheme benefits.<br><br>" +
                 "See the Schemes section of this website for specific schemes and details.";
        }

        // Default reply
        return "ü§ñ I‚Äôm a simple helper bot for CitizenHelpDesk.<br><br>" +
               "I can answer about:<br>" +
               "‚Ä¢ traffic rules and challans<br>" +
               "‚Ä¢ Aadhaar / PAN / documents<br>" +
               "‚Ä¢ police complaints / FIR<br>" +
               "‚Ä¢ government schemes / yojana<br><br>" +
               "Try asking: <em>‚ÄúAadhaar address change‚Äù</em> or <em>‚Äútraffic helmet rule‚Äù</em>.";
      }

      if (chatbotForm && chatbotInput) {
        chatbotForm.addEventListener('submit', function (e) {
          e.preventDefault();
          var text = chatbotInput.value.trim();
          if (!text) return;

          // Show user message
          addMessage(text, 'user');
          chatbotInput.value = '';

          // Bot reply
          var reply = getBotReply(text);
          addMessage(reply, 'bot');
        });
      }

    });
  </script>

</body>
</html>
